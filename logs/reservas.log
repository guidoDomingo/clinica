AJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 2 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 2 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 2 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 2 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 2 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX guardarReserva: Datos recibidos = {"doctor_id":13,"servicio_id":2,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"21:30:00","hora_fin":"22:00:00","seguro_id":"2","observaciones":"","agenda_id":27}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"21:30:00","hora_fin":"22:00:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":7,"agenda_id":27,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"21:30:00","hora_fin":"22:00:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":7,"agenda_id":27,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":2,"doctor_id":"13","paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"21:30:00","hora_fin":"22:00:00","agenda_id":27,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 19AJAX guardarReserva: Reserva creada con ID 19AJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 3 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 3 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-03"}AJAX buscarReservas (procesado): Fecha=2025-06-03, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-03","paciente":"ma"}AJAX buscarReservas (procesado): Fecha=2025-06-03, DoctorID=null (tipo: NULL), Estado=null, Paciente=mactrBuscarReservas: Llamada con Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=mactrBuscarReservas: Filtrando específicamente por paciente=mamdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=mamdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin AND (rp2.first_name ILIKE :nombre_paciente 
                        OR rp2.last_name ILIKE :nombre_paciente 
                        OR (rp2.first_name || ' ' || rp2.last_name) ILIKE :nombre_paciente) ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-03"}AJAX buscarReservas (procesado): Fecha=2025-06-03, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-03"}AJAX buscarReservas (procesado): Fecha=2025-06-03, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Fecha=2025-06-03, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-03, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX obtenerReservas: Se encontraron 3 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":17,"servicio_id":1,"doctor_id":13,"paciente_id":51,"fecha_reserva":"2025-06-03","hora_inicio":"13:00:00","hora_fin":"13:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-02 20:01:51.447253","updated_at":null,"agenda_id":21,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"Mary - Riquelme","serv_descripcion":"Consulta m\u00e9dica general b\u00e1sica","serv_monto":"150000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-05"}AJAX buscarReservas (procesado): Fecha=2025-06-05, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-05"}AJAX buscarReservas (procesado): Fecha=2025-06-05, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-05"}AJAX buscarReservas (procesado): Fecha=2025-06-05, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-05"}AJAX buscarReservas (procesado): Fecha=2025-06-05, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-05"}AJAX buscarReservas (procesado): Fecha=2025-06-05, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Fecha=2025-06-04, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Se encontraron 0 reservasAJAX obtenerReservas: No se encontraron reservas para esta fechaAJAX guardarReserva: Datos recibidos = {"doctor_id":13,"servicio_id":4,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","seguro_id":"2","observaciones":"","agenda_id":28}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":7,"agenda_id":28,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":7,"agenda_id":28,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":4,"doctor_id":"13","paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","agenda_id":28,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 20AJAX guardarReserva: Reserva creada con ID 20AJAX obtenerReservas: Fecha=2025-06-04, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX obtenerReservas: Se encontraron 1 reservasAJAX obtenerReservas: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-05"}AJAX buscarReservas (procesado): Fecha=2025-06-05, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-05"}AJAX buscarReservas (procesado): Fecha=2025-06-05, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-05, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-07"}AJAX buscarReservas (procesado): Fecha=2025-06-07, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-07, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-08"}AJAX buscarReservas (procesado): Fecha=2025-06-08, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-08, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-08, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-08"}AJAX buscarReservas (procesado): Fecha=2025-06-08, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-08, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-08, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-09"}AJAX buscarReservas (procesado): Fecha=2025-06-09, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-09, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-09, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-09"}AJAX buscarReservas (procesado): Fecha=2025-06-09, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-09, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-09, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-04"}AJAX buscarReservas (procesado): Fecha=2025-06-04, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-04, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":20,"servicio_id":4,"doctor_id":13,"paciente_id":45,"fecha_reserva":"2025-06-04","hora_inicio":"23:00:00","hora_fin":"23:30:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-04 22:20:19.990663","updated_at":null,"agenda_id":28,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"Antonio - Galeano","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-09"}AJAX buscarReservas (procesado): Fecha=2025-06-09, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-09, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-09, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-10"}AJAX buscarReservas (procesado): Fecha=2025-06-10, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-10, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-10, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-10"}AJAX buscarReservas (procesado): Fecha=2025-06-10, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-10, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-10, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00","hora_fin":"08:30","seguro_id":"2","observaciones":"pruebaaa"}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00","hora_fin":"08:30","observaciones":"pruebaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00","hora_fin":"08:30","observaciones":"pruebaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":2,"doctor_id":"14","paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00","hora_fin":"08:30","agenda_id":null,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 21AJAX guardarReserva: Reserva creada con ID 21AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00","hora_fin":"08:30","seguro_id":"2","observaciones":"","agenda_id":5647}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00","hora_fin":"08:30","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":5647,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00","hora_fin":"08:30","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":5647,"seguro_id":"2"}Reserva rechazada: Ya existe una reserva en este horario para este médicoAJAX guardarReserva: No se pudo guardar la reserva (resultado=false)AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"09:00","hora_fin":"09:30","seguro_id":"2","observaciones":"","agenda_id":8742}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"09:00","hora_fin":"09:30","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":8742,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"09:00","hora_fin":"09:30","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":8742,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":2,"doctor_id":"14","paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"09:00","hora_fin":"09:30","agenda_id":8742,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 22AJAX guardarReserva: Reserva creada con ID 22AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"10:00","hora_fin":"10:30","seguro_id":"2","observaciones":"sdsafsfsdffsdfs","agenda_id":2886}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"10:00","hora_fin":"10:30","observaciones":"sdsafsfsdffsdfs","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":2886,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"10:00","hora_fin":"10:30","observaciones":"sdsafsfsdffsdfs","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":2886,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":2,"doctor_id":"14","paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"10:00","hora_fin":"10:30","agenda_id":2886,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 23AJAX guardarReserva: Reserva creada con ID 23AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-11"}AJAX buscarReservas (procesado): Fecha=2025-06-11, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-11, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Fecha=2025-06-12, DoctorID=null, Estado=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX obtenerReservas: Se encontraron 0 reservasAJAX obtenerReservas: No se encontraron reservas para esta fechaAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00:00","hora_fin":"08:45:00","seguro_id":"2","observaciones":"pruebaaaa","agenda_id":22}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00:00","hora_fin":"08:45:00","observaciones":"pruebaaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":22,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"08:00:00","hora_fin":"08:45:00","observaciones":"pruebaaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":22,"seguro_id":"2"}Reserva rechazada: Ya existe una reserva en este horario para este médicoAJAX guardarReserva: No se pudo guardar la reserva (resultado=false)AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","seguro_id":"2","observaciones":"pruebaaaa","agenda_id":29}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","observaciones":"pruebaaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","observaciones":"pruebaaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":2,"doctor_id":"14","paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","agenda_id":29,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 24AJAX guardarReserva: Reserva creada con ID 24AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":24,"servicio_id":2,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:00:00","hora_fin":"17:15:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaaa","business_id":1,"created_at":"2025-06-11 21:04:14.627554","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","seguro_id":"2","observaciones":"pruebaaa","agenda_id":29}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","observaciones":"pruebaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","observaciones":"pruebaaa","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":2,"doctor_id":"14","paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","agenda_id":29,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 25AJAX guardarReserva: Reserva creada con ID 25AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-13"}AJAX buscarReservas (procesado): Fecha=2025-06-13, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-13, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-13, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 0 reservasAJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 2 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":25,"servicio_id":2,"doctor_id":14,"paciente_id":51,"fecha_reserva":"2025-06-12","hora_inicio":"14:15:00","hora_fin":"14:30:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa","business_id":1,"created_at":"2025-06-12 00:04:05.728192","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"Mary - Riquelme","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":4,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","seguro_id":"2","observaciones":"pruebaaa 1321546","agenda_id":22}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","observaciones":"pruebaaa 1321546","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":22,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","observaciones":"pruebaaa 1321546","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":22,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":4,"doctor_id":"14","paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","agenda_id":22,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 26AJAX guardarReserva: Reserva creada con ID 26AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":3,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","seguro_id":"2","observaciones":"servicio tomografia","agenda_id":29}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":3,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","observaciones":"servicio tomografia","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":3,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","observaciones":"servicio tomografia","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Reserva rechazada: Ya existe una reserva en este horario para este médicoAJAX guardarReserva: No se pudo guardar la reserva (resultado=false)AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":3,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:30:00","hora_fin":"17:45:00","seguro_id":"2","observaciones":"servicio tomografia","agenda_id":29}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":3,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:30:00","hora_fin":"17:45:00","observaciones":"servicio tomografia","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":3,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:30:00","hora_fin":"17:45:00","observaciones":"servicio tomografia","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":3,"doctor_id":"14","paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"17:30:00","hora_fin":"17:45:00","agenda_id":29,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 27AJAX guardarReserva: Reserva creada con ID 27AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 4 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 4 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 4 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":8,"paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","seguro_id":"2","observaciones":"","agenda_id":29}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":8,"doctor_id":14,"paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":8,"doctor_id":14,"paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Reserva rechazada: Ya existe una reserva en este horario para este médicoAJAX guardarReserva: No se pudo guardar la reserva (resultado=false)AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 4 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 4 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":2,"paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","seguro_id":"2","observaciones":"","agenda_id":29}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":2,"doctor_id":14,"paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":2,"doctor_id":14,"paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":2,"doctor_id":"14","paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","agenda_id":29,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 28AJAX guardarReserva: Reserva creada con ID 28AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12","paciente":"gui"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=guictrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=guictrBuscarReservas: Filtrando específicamente por paciente=guimdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=guimdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin AND (rp2.first_name ILIKE :nombre_paciente 
                        OR rp2.last_name ILIKE :nombre_paciente 
                        OR (rp2.first_name || ' ' || rp2.last_name) ILIKE :nombre_paciente) ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 1 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":28,"servicio_id":2,"doctor_id":14,"paciente_id":11,"fecha_reserva":"2025-06-12","hora_inicio":"17:45:00","hora_fin":"18:00:00","reserva_estado":"PENDIENTE","observaciones":"","business_id":1,"created_at":"2025-06-12 05:13:10.164112","updated_at":null,"agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"guido - benitez","serv_descripcion":"Cirug\u00eda de cataratas por facoemulsificaci\u00f3n","serv_monto":"3000000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 5 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX guardarReserva: Datos recibidos = {"doctor_id":14,"servicio_id":7,"paciente_id":12,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","seguro_id":"2","observaciones":"","agenda_id":29}ctrGuardarReserva: Enviando datos al modelo: {"servicio_id":7,"doctor_id":14,"paciente_id":12,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}Intentando guardar reserva: {"servicio_id":7,"doctor_id":14,"paciente_id":12,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","observaciones":"","reserva_estado":"PENDIENTE","business_id":1,"created_by":9,"agenda_id":29,"seguro_id":"2"}SQL a ejecutar: INSERT INTO servicios_reservas...Parámetros: {"servicio_id":7,"doctor_id":"14","paciente_id":12,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","agenda_id":29,"tarifa_id":null,"seguro_id":"2"}Reserva creada con ID: 29AJAX guardarReserva: Reserva creada con ID 29AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12","estado":"CONFIRMADA"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=CONFIRMADA, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=CONFIRMADA, Paciente=nullctrBuscarReservas: Filtrando específicamente por estado=CONFIRMADAmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=CONFIRMADA, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin AND sr.reserva_estado = :estado ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 3 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":29,"servicio_id":7,"doctor_id":14,"paciente_id":12,"fecha_reserva":"2025-06-12","hora_inicio":"17:15:00","hora_fin":"17:30:00","reserva_estado":"CONFIRMADA","observaciones":"","business_id":1,"created_at":"2025-06-12 05:28:00.424137","updated_at":"2025-06-12 06:59:01.707205","agenda_id":29,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"ronaldo - jesus","serv_descripcion":"sdfdsfsd","serv_monto":"30000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}AJAX buscarReservas: POST={"action":"buscarReservas","fecha":"2025-06-12"}AJAX buscarReservas (procesado): Fecha=2025-06-12, DoctorID=null (tipo: NULL), Estado=null, Paciente=nullctrBuscarReservas: Llamada con Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: Fecha=2025-06-12, DoctorID=null, Estado=null, Paciente=nullmdlObtenerReservasPorFecha: SQL=SELECT 
                sr.reserva_id,
                sr.servicio_id,
                sr.doctor_id,
                sr.paciente_id,
                sr.fecha_reserva,
                sr.hora_inicio,
                sr.hora_fin,
                sr.reserva_estado,
                sr.observaciones,
                sr.business_id,
                sr.created_at,
                sr.updated_at,
                sr.agenda_id,
                sr.sala_id,
                s.sala_nombre,
                sr.tarifa_id,
                rp.first_name ||' - ' || rp.last_name as doctor,
                rp2.first_name ||' - ' || rp2.last_name as paciente,
                rs.serv_descripcion,
                rs.serv_monto
            FROM servicios_reservas sr 
            INNER JOIN rh_doctors rd ON sr.doctor_id = rd.doctor_id 
            INNER JOIN rh_person rp ON rd.person_id = rp.person_id 
            INNER JOIN rh_person rp2 ON sr.paciente_id = rp2.person_id 
            INNER JOIN rs_servicios rs ON sr.servicio_id = rs.serv_id 
            inner join agendas_detalle ad on sr.agenda_id = ad.detalle_id 
            inner join salas s on s.sala_id = ad.sala_id 
            WHERE 1=1 AND sr.fecha_reserva BETWEEN :fecha_inicio AND :fecha_fin ORDER BY sr.fecha_reserva DESC, sr.hora_inicio ASCmdlObtenerReservasPorFecha: Se encontraron 6 reservasmdlObtenerReservasPorFecha: Primera reserva: {"reserva_id":26,"servicio_id":4,"doctor_id":14,"paciente_id":45,"fecha_reserva":"2025-06-12","hora_inicio":"11:00:00","hora_fin":"11:45:00","reserva_estado":"PENDIENTE","observaciones":"pruebaaa 1321546","business_id":1,"created_at":"2025-06-12 00:31:15.840122","updated_at":null,"agenda_id":22,"sala_id":null,"sala_nombre":"Sala 1","tarifa_id":null,"doctor":"ronal - ricardo","paciente":"alejandro - visconte","serv_descripcion":"Cirugia de prueba","serv_monto":"590000.00"}