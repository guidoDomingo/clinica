[2025-04-29 07:32:01] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:36:44] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:36:50] [INFO] [Model.php:175]
SQL: SELECT u.*, r.reg_name, r.reg_lastname, r.reg_email, r.reg_document, r.reg_phone FROM sys_users u JOIN sys_register r ON u.reg_id = r.reg_id WHERE u.user_id = :userId
Parameters: {
    "userId": 5
}
----------------------------------------
[2025-04-29 07:36:50] [INFO] [Model.php:175]
SQL: SELECT r.* FROM sys_roles r JOIN sys_user_roles ur ON r.role_id = ur.role_id WHERE ur.user_id = :userId
Parameters: {
    "userId": 5
}
----------------------------------------
[2025-04-29 07:36:50] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:36:55] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:36:57] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:37:03] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:37:04] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:38:49] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:38:52] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:38:54] [INFO] [Database.php:219]
SQL: SELECT * FROM especialidades WHERE activo = :value
Parameters: {
    "value": true
}
----------------------------------------
[2025-04-29 07:38:54] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:38:54] [INFO] [Model.php:175]
SQL: SELECT * FROM rh_person ORDER BY person_id DESC LIMIT :limit OFFSET :offset
Parameters: {
    "limit": 10,
    "offset": 0
}
----------------------------------------
[2025-04-29 07:38:54] [INFO] [Model.php:175]
SQL: SELECT COUNT(*) as total FROM rh_person
----------------------------------------
[2025-04-29 07:38:57] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:39:00] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:39:17] [INFO] [Model.php:175]
SQL: SELECT u.*, r.reg_name, r.reg_lastname, r.reg_email, r.reg_document, ARRAY_AGG(DISTINCT jsonb_build_object('role_id', ro.role_id, 'role_name', ro.role_name)) FILTER (WHERE ro.role_id IS NOT NULL) as roles FROM sys_users u JOIN sys_register r ON u.reg_id = r.reg_id LEFT JOIN sys_user_roles ur ON u.user_id = ur.user_id LEFT JOIN sys_roles ro ON ur.role_id = ro.role_id GROUP BY u.user_id, r.reg_name, r.reg_lastname, r.reg_email, r.reg_document ORDER BY u.user_id DESC LIMIT :limit OFFSET :offset
Parameters: {
    "limit": 10,
    "offset": 0
}
----------------------------------------
[2025-04-29 07:39:17] [INFO] [Model.php:175]
SQL: SELECT COUNT(*) as total FROM sys_users
----------------------------------------
[2025-04-29 07:39:17] [INFO] [Model.php:175]
SQL: SELECT r.*, 
                       array_agg(DISTINCT p.perm_id) as permission_ids,
                       array_agg(DISTINCT p.perm_name) as permission_names
                FROM sys_roles r
                LEFT JOIN sys_role_permissions rp ON r.role_id = rp.role_id
                LEFT JOIN sys_permissions p ON rp.perm_id = p.perm_id
                GROUP BY r.role_id, r.role_name, r.role_description
                ORDER BY r.role_id
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Database.php:231]
SQL: SELECT * FROM sys_users WHERE user_id = :id
Parameters: {
    "id": 5
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Model.php:175]
SQL: SELECT r.* FROM sys_roles r JOIN sys_user_roles ur ON r.role_id = ur.role_id WHERE ur.user_id = :userId
Parameters: {
    "userId": 5
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Database.php:231]
SQL: SELECT * FROM sys_users WHERE user_id = :id
Parameters: {
    "id": 4
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Model.php:175]
SQL: SELECT r.* FROM sys_roles r JOIN sys_user_roles ur ON r.role_id = ur.role_id WHERE ur.user_id = :userId
Parameters: {
    "userId": 4
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Database.php:231]
SQL: SELECT * FROM sys_users WHERE user_id = :id
Parameters: {
    "id": 3
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Model.php:175]
SQL: SELECT r.* FROM sys_roles r JOIN sys_user_roles ur ON r.role_id = ur.role_id WHERE ur.user_id = :userId
Parameters: {
    "userId": 3
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Database.php:231]
SQL: SELECT * FROM sys_users WHERE user_id = :id
Parameters: {
    "id": 2
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Model.php:175]
SQL: SELECT r.* FROM sys_roles r JOIN sys_user_roles ur ON r.role_id = ur.role_id WHERE ur.user_id = :userId
Parameters: {
    "userId": 2
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Database.php:231]
SQL: SELECT * FROM sys_users WHERE user_id = :id
Parameters: {
    "id": 1
}
----------------------------------------
[2025-04-29 07:39:18] [INFO] [Model.php:175]
SQL: SELECT r.* FROM sys_roles r JOIN sys_user_roles ur ON r.role_id = ur.role_id WHERE ur.user_id = :userId
Parameters: {
    "userId": 1
}
----------------------------------------
[2025-04-29 07:39:30] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:39:31] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Model.php:175]
SQL: SELECT * FROM sys_register WHERE reg_email = :email
Parameters: {
    "email": "carlos@carlos.com"
}
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Model.php:175]
SQL: SELECT * FROM sys_register WHERE reg_document = :document
Parameters: {
    "document": "777888"
}
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Model::create]
Table: sys_register
Original Data: {
    "reg_document": "777888",
    "reg_name": "carlos",
    "reg_lastname": "ruiz",
    "reg_email": "carlos@carlos.com",
    "reg_phone": "0982313359",
    "reg_bdate": "1996-08-02",
    "reg_activation": "6cd3c4fff0d0b546fba6cc6a6e029bba"
}
Filtered Data: {
    "reg_document": "777888",
    "reg_name": "carlos",
    "reg_lastname": "ruiz",
    "reg_email": "carlos@carlos.com",
    "reg_phone": "0982313359",
    "reg_bdate": "1996-08-02",
    "reg_activation": "6cd3c4fff0d0b546fba6cc6a6e029bba"
}
Excluded Data: []
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Model.php:110]
SQL: INSERT INTO sys_register (reg_document, reg_name, reg_lastname, reg_email, reg_phone, reg_bdate, reg_activation) VALUES (:reg_document, :reg_name, :reg_lastname, :reg_email, :reg_phone, :reg_bdate, :reg_activation)
Parameters: {
    "reg_document": "777888",
    "reg_name": "carlos",
    "reg_lastname": "ruiz",
    "reg_email": "carlos@carlos.com",
    "reg_phone": "0982313359",
    "reg_bdate": "1996-08-02",
    "reg_activation": "6cd3c4fff0d0b546fba6cc6a6e029bba"
}
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Database.php:255]
SQL: INSERT INTO sys_register (reg_document, reg_name, reg_lastname, reg_email, reg_phone, reg_bdate, reg_activation) VALUES (:reg_document, :reg_name, :reg_lastname, :reg_email, :reg_phone, :reg_bdate, :reg_activation)
Parameters: {
    "reg_document": "777888",
    "reg_name": "carlos",
    "reg_lastname": "ruiz",
    "reg_email": "carlos@carlos.com",
    "reg_phone": "0982313359",
    "reg_bdate": "1996-08-02",
    "reg_activation": "6cd3c4fff0d0b546fba6cc6a6e029bba"
}
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Database.php:231]
SQL: SELECT * FROM sys_register WHERE reg_id = :id
Parameters: {
    "id": "6"
}
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Model.php:175]
SQL: SELECT * FROM sys_users WHERE reg_id = :reg_id
Parameters: {
    "reg_id": "6"
}
----------------------------------------
[2025-04-29 07:40:03] [INFO] [Model.php:175]
SQL: INSERT INTO sys_user_roles (user_id, role_id) VALUES (:userId, :roleId)
Parameters: {
    "userId": 6,
    "roleId": 2
}
----------------------------------------
[2025-04-29 07:40:07] [INFO] [Model.php:143]
SQL: UPDATE sys_users SET user_is_active = :user_is_active WHERE user_id = :id
Parameters: {
    "user_is_active": true,
    "id": 6
}
----------------------------------------
[2025-04-29 07:40:07] [INFO] [Database.php:281]
SQL: UPDATE sys_users SET user_is_active = :user_is_active WHERE user_id = :id
Parameters: {
    "user_is_active": true,
    "id": 6
}
----------------------------------------
[2025-04-29 07:40:15] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:40:17] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:41:43] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:41:53] [INFO] [Model.php:175]
SQL: SELECT u.*, r.reg_name, r.reg_lastname, r.reg_email, r.reg_document, r.reg_phone FROM sys_users u JOIN sys_register r ON u.reg_id = r.reg_id WHERE u.user_id = :userId
Parameters: {
    "userId": 4
}
----------------------------------------
[2025-04-29 07:41:53] [INFO] [Model.php:175]
SQL: SELECT r.* FROM sys_roles r JOIN sys_user_roles ur ON r.role_id = ur.role_id WHERE ur.user_id = :userId
Parameters: {
    "userId": 4
}
----------------------------------------
[2025-04-29 07:41:53] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:42:15] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:42:47] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:42:48] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:43:10] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
[2025-04-29 07:43:12] [INFO] [Model.php:175]
SQL: SELECT p.*, 
                       array_agg(DISTINCT r.role_id) as role_ids,
                       array_agg(DISTINCT r.role_name) as role_names
                FROM sys_permissions p
                LEFT JOIN sys_role_permissions rp ON p.perm_id = rp.perm_id
                LEFT JOIN sys_roles r ON rp.role_id = r.role_id
                GROUP BY p.perm_id, p.perm_name, p.perm_description
                ORDER BY p.perm_id
----------------------------------------
